<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/fonte.css">
    <title>Histórico</title>
    
    <style>
        .custom-title {
            color: #F20505; 
        }

        .btn-red {
            background-color: #ff0000; /* Vermelho padrão */
            border-color: #ff0000; /* Bordas no mesmo tom do fundo */
        }

        .btn-red:hover {
            background-color: #f97e7e; /* Vermelho mais claro no hover */
            border-color: #f97e7e; /* Bordas no mesmo tom do hover */
        }

        footer {
            position: absolute;
            bottom: 0;
            width: 100%;
        }
        
        /* Estilos gerais da tabela */
        table {
            width: 100%;
            border-collapse: collapse; /* Remove espaços entre as bordas das células */
        }
        th, td {
            border: 2px solid #ddd; /* Borda cinza claro para cada célula */
            padding: 8px; /* Espaçamento interno nas células */
            text-align: left; /* Alinhamento do texto */
        }
        th {
            background-color: #f2f2f2; /* Cor de fundo para cabeçalho */
            font-weight: bold; /* Texto em negrito para o cabeçalho */
        }
        tr:nth-child(even) {
            background-color: #f9f9f9; /* Cor de fundo alternada para linhas pares */
        }
        /* Estilos específicos para cabeçalho */
        th.nome { width: 40%; }
        th.sobrenome { width: 30%; }
        th.telefone { width: 15%; }
        th.cidade { width: 15%; }
    </style>

        

    
</head>
<body> 
    <header>
       <%- include ('navbar') %> 
    </header>

    <main class="container mt-5">
        <div class="text-center">
            <h1 class="display-2 custom-title">Histórico de Ocorrências</h1>
        </div>

        <form action="/historico" method="get">
            <div class="row mt-3">
                <div class="col-md-3">
                    <label for="categ" class="form-label">Categorias:</label>
                    <select id="categ" name="categ" class="form-select">
                        <option value="todos">Todos</option>
                        <option value="trem">Trem</option>
                        <option value="linha">Linha</option>
                        <option value="estacao">Estação</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="status" class="form-label">Status:</label>
                    <select id="status" name="status" class="form-select">
                        <option value="todos">Todos</option>
                        <option value="aberto">Em aberto</option>
                        <option value="resolvido">Resolvido</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="data_inicio" class="form-label">Data de início:</label>
                    <input type="date" id="data_inicio" name="data_inicio" class="form-control">
                </div>
                <div class="col-md-3">
                    <label for="data_final" class="form-label">Data final:</label>
                    <input type="date" id="data_final" name="data_final" class="form-control">
                </div>
            </div>
    
            <div class="table-responsive mt-4">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Horário</th>
                            <th>Linha</th>
                            <th>Categoria</th>
                            <th>Abrir</th>
                         </tr>
                    </thead>
                   
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-secondary me-2 btn-red">Voltar</button>
                <button type="submit" class="btn btn-primary btn-red">Salvar</button>
            </div>
        </form>
    </main>

    <footer>
         <%- include ('footer') %> 
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


<body>
    <table id='tabela' border='2' width='100%'></table>

<script>
    var config = {
    values: [{
    data: '24/04',
    horario: '13:00',
    linha: 'Linha 12',
    categoria: 'Portas'
    }, {
    data: '24/04',
    horario: '13:00',
    linha: 'Linha 12',
    categoria: 'Portas'
    }, {
    data: '24/04',
    horario: '13:00',
    linha: 'Linha 12',
    categoria: 'Portas'
    }, {
    data: '24/04',
    horario: '13:00',
    linha: 'Linha 12',
    categoria: 'Portas'
    }],
    headers:[
    {key: 'data', name: 'data', style: 'width:40%',},
    {key: 'horario', name: 'horario', style: 'width:30%'},
    {key: 'linha', name: 'linha', style: 'width:15%'},
    {key: 'categoria', name: 'categoria', style: 'width:15%'}
    ]
    };

    function populateTable(c, config) {
    var values = config.values;
    var headers = config.headers;

    /* Limpa a tabela para adicionar novas informações */
    while(c.rows.length - 1 > 0) {
    c.deleteRow(1);
    }

    /* Define variáveis para criação das linhas e colunas */
    var row; var col;

    // Linhas
    for(var i = 0; i < values.length; i++) {
    var lastRow = c.rows.length;
    var iteration = lastRow;
    row = c.insertRow(lastRow);

    // Colunas
    for(var j = 0; j < headers.length; j++) {
    col = row.insertCell(j);
    col.style = headers[j];
    col.appendChild(document.createTextNode(values[i][headers[j].key]));
    }
    }
    }

    var tabela = document.getElementById("tabela")
    populateTable(tabela, config);
</script>
    

